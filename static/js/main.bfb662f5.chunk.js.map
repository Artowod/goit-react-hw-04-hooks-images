{"version":3,"sources":["components/Button/Button.module.css","components/SearchBar/SearchBar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","shared/services/api.js","App.js","index.js"],"names":["module","exports","SearchBar","onSubmitHandler","useState","searchInput","setSearchInput","className","onSubmit","event","preventDefault","type","autoComplete","name","value","autoFocus","placeholder","onChange","e","target","Modal","ModalCloseClickHandler","ModalCloseKeyHandler","largePic","useEffect","window","addEventListener","removeEventListener","onClick","src","alt","ImageGalleryItem","largeImageURL","webformatURL","isModal","setIsModal","tagName","key","href","ImageGallery","gallery","map","id","Button","s","getServerResponse","q","page","sendParam","image_type","orientation","safesearch","per_page","response","axios","get","params","then","data","App","setGallery","status","setStatus","searchQuery","setSearchQuery","setPage","isPagination","setIsPagination","trim","hits","length","prevGallery","concat","scrollBy","top","document","documentElement","scrollHeight","behavior","catch","err","alert","message","color","height","width","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAiB,+BAA+B,OAAS,yB,+GCyC5FC,EAvCG,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBACnB,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAYA,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaC,SAZhB,SAAAC,GACfA,EAAMC,iBACNP,EAAgBE,IAUd,UACE,wBAAQM,KAAK,SAASJ,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVI,KAAK,OACLC,aAAa,MACbC,KAAK,cACLC,MAAOT,EACPU,WAAS,EACTC,YAAY,2BACZC,SApBc,SAAAC,GACpB,IAAQJ,EAAUI,EAAEC,OAAZL,MACRR,EAAeQ,YCoBJM,EA9BD,SAAC,GAAgE,IAA9DC,EAA6D,EAA7DA,uBAAwBC,EAAqC,EAArCA,qBAAsBC,EAAe,EAAfA,SAe7D,OAdAC,qBAAU,WACRC,OAAOC,iBAAiB,UAAWJ,KAGlC,IAEHE,qBAAU,WACR,OAAO,WACLC,OAAOE,oBAAoB,UAAWL,MAIvC,IAGD,qBAAKf,UAAU,UAAUqB,QAASP,EAAlC,SACE,qBAAKd,UAAU,QAAf,SACE,qBAAKsB,IAAKN,EAAUO,IAAI,mBCmBjBC,EApCU,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,cAAeC,EAAmB,EAAnBA,aACzC,EAA8B7B,oBAAS,GAAvC,mBAAO8B,EAAP,KAAgBC,EAAhB,KAeA,OACE,qBAAI5B,UAAU,mBAAd,WACe,IAAZ2B,GACC,cAAC,EAAD,CACEb,uBAZW,SAAAZ,GACQ,QAAzBA,EAAMU,OAAOiB,SAAqBD,GAAW,IAYvCb,qBATgB,SAAAb,GACR,WAAdA,EAAM4B,KAAoBF,GAAW,IAS/BZ,SAAUS,IAGd,mBAAGM,KAAMN,EAAeJ,QAtBV,SAAAnB,GAChBA,EAAMC,iBACNyB,GAAW,IAoBT,SACE,qBAAKN,IAAKI,EAAcH,IAAI,GAAGvB,UAAU,iCCPlCgC,EApBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OACE,oBAAIjC,UAAU,eAAd,SACGiC,EAAQC,KAAI,YAA0C,IAAvCC,EAAsC,EAAtCA,GAAIT,EAAkC,EAAlCA,aAAcD,EAAoB,EAApBA,cAChC,OACE,cAAC,EAAD,CAEEC,aAAcA,EACdD,cAAeA,GAFVU,S,iBCQFC,EAdA,SAAC,GAAiB,IAAff,EAAc,EAAdA,QAChB,OACE,8BACE,wBAAQrB,UAAWqC,IAAED,OAAQhC,KAAK,SAASiB,QAASA,EAApD,0B,iBCkBSiB,MArBf,WAA0C,IAAfC,EAAc,uDAAV,GAAIC,EAAM,uCACjCC,EAAY,CAChBX,IAAK,qCACLS,EAAG,GACHG,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SAAU,GACVL,KAAM,GAGRC,EAAUF,EAAIA,EACdE,EAAUD,KAAOA,EAEjB,IAAMM,EAAWC,IAAMC,IAAI,2BAA4B,CACrDC,OAAQR,IAGV,OAAOK,EAASI,MAAK,qBAAGC,S,iBCsEXC,G,YAhFH,WACV,MAA8BvD,mBAAS,IAAvC,mBAAOoC,EAAP,KAAgBoB,EAAhB,KACA,EAA4BxD,mBAAS,QAArC,mBAAOyD,EAAP,KAAeC,EAAf,KACA,EAAsC1D,mBAAS,IAA/C,mBAAO2D,EAAP,KAAoBC,EAApB,KACA,EAAwB5D,mBAAS,GAAjC,mBAAO2C,EAAP,KAAakB,EAAb,KACA,EAAwC7D,oBAAS,GAAjD,mBAAO8D,EAAP,KAAqBC,EAArB,KAEM3D,EAAW,SAAAuD,GACfI,GAAgB,GAChBP,EAAW,IACXK,EAAQ,GAEmB,KAAvBF,EAAYK,QACdN,EAAU,QACVE,EAAeD,IAEfC,EAAeD,IAuCnB,OA/BAvC,qBAAU,WACmB,KAAvBuC,EAAYK,SACdN,EAAU,WACVjB,EAAkBkB,EAAahB,GAC5BU,MAAK,YAAe,IAAZY,EAAW,EAAXA,KACPF,IAAgBE,EAAKC,OAAS,KAC9BV,GAAW,SAAAW,GACT,OAAOA,EAAYC,OACjBH,EAAK5B,KAAI,kBAA0C,CACjDC,GADO,EAAGA,GAEVT,aAFO,EAAOA,aAGdD,cAHO,EAAqBA,sBAOlC8B,EAAU,YACNf,EAAO,GACTtB,OAAOgD,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,cAIfC,OAAM,SAAAC,GAEL,MADAC,MAAMD,EAAIE,SACJF,QAIX,CAACjB,EAAahB,IAEF,SAAXc,EAEA,sBAAKtD,UAAU,MAAf,UACE,cAAC,EAAD,CAAWJ,gBAAiBK,IAD9B,0CAQF,sBAAKD,UAAU,MAAf,UACE,cAAC,EAAD,CAAWJ,gBAAiBK,IAChB,YAAXqD,GACC,cAAC,IAAD,CAAQtD,UAAU,SAAS4E,MAAM,SAASC,OAAQ,IAAKC,MAAO,OAEnD,YAAXxB,GAAmC,aAAXA,IACxB,mCACE,cAAC,EAAD,CAAcrB,QAASA,MAG1B0B,GAAgB,cAAC,EAAD,CAAQtC,QAvDV,WACjBqC,GAAQ,SAAAqB,GAAQ,OAAIA,EAAW,aC5BnCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFd,SAASe,eAAe,W","file":"static/js/main.bfb662f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Button_loader__3sp5u\",\"loader_wrapper\":\"Button_loader_wrapper__1q_rT\",\"Button\":\"Button_Button__lN_kp\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SearchBar = ({ onSubmitHandler }) => {\r\n  const [searchInput, setSearchInput] = useState('');\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    onSubmitHandler(searchInput);\r\n  };\r\n\r\n  const onInputChange = e => {\r\n    const { value } = e.target;\r\n    setSearchInput(value);\r\n  };\r\n\r\n  return (\r\n    <header className=\"SearchBar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          name=\"searchInput\"\r\n          value={searchInput}\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmitHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\n\r\nconst Modal = ({ ModalCloseClickHandler, ModalCloseKeyHandler, largePic }) => {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', ModalCloseKeyHandler);\r\n    // требует зависимость ModalCloseKeyHandler  - но она здесь не нужна.\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      window.removeEventListener('keydown', ModalCloseKeyHandler);\r\n    };\r\n    // требует зависимость ModalCloseKeyHandler  - но она здесь не нужна.\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Overlay\" onClick={ModalCloseClickHandler}>\r\n      <div className=\"Modal\">\r\n        <img src={largePic} alt=\"Large pic\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  ModalCloseClickHandler: PropTypes.func.isRequired,\r\n  ModalCloseKeyHandler: PropTypes.func.isRequired,\r\n  largePic: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import PropTypes from 'prop-types';\r\nimport Modal from '../Modal';\r\nimport { useState } from 'react';\r\n\r\nconst ImageGalleryItem = ({ largeImageURL, webformatURL }) => {\r\n  const [isModal, setIsModal] = useState(false);\r\n\r\n  const openModal = event => {\r\n    event.preventDefault();\r\n    setIsModal(true);\r\n  };\r\n\r\n  const closeModal = event => {\r\n    event.target.tagName === 'DIV' && setIsModal(false);\r\n  };\r\n\r\n  const closeModalByEsc = event => {\r\n    event.key === 'Escape' && setIsModal(false);\r\n  };\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      {isModal === true && (\r\n        <Modal\r\n          ModalCloseClickHandler={closeModal}\r\n          ModalCloseKeyHandler={closeModalByEsc}\r\n          largePic={largeImageURL}\r\n        />\r\n      )}\r\n      <a href={largeImageURL} onClick={openModal}>\r\n        <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n      </a>\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ gallery }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {gallery.map(({ id, webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(String).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div>\r\n      <button className={s.Button} type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\n\r\n//pixabay\r\nfunction getServerResponse(q = '', page) {\r\n  const sendParam = {\r\n    key: '23763255-79cd913c0d73945049700542d',\r\n    q: '',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n    per_page: 12,\r\n    page: 1,\r\n  };\r\n\r\n  sendParam.q = q;\r\n  sendParam.page = page;\r\n\r\n  const response = axios.get('https://pixabay.com/api/', {\r\n    params: sendParam,\r\n  });\r\n\r\n  return response.then(({ data }) => data);\r\n}\r\n\r\nexport default getServerResponse;\r\n","import SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport getServerResponse from './shared/services/api.js';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { useState, useEffect } from 'react';\n\nimport './App.css';\nimport React from 'react';\n\nconst App = () => {\n  const [gallery, setGallery] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [isPagination, setIsPagination] = useState(false);\n\n  const onSubmit = searchQuery => {\n    setIsPagination(false);\n    setGallery([]);\n    setPage(1);\n\n    if (searchQuery.trim() === '') {\n      setStatus('idle');\n      setSearchQuery(searchQuery);\n    } else {\n      setSearchQuery(searchQuery);\n    }\n  };\n\n  const pagination = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    if (searchQuery.trim() !== '') {\n      setStatus('pending');\n      getServerResponse(searchQuery, page)\n        .then(({ hits }) => {\n          setIsPagination(hits.length < 12 ? false : true);\n          setGallery(prevGallery => {\n            return prevGallery.concat(\n              hits.map(({ id, webformatURL, largeImageURL }) => ({\n                id,\n                webformatURL,\n                largeImageURL,\n              })),\n            );\n          });\n          setStatus('resolved');\n          if (page > 1) {\n            window.scrollBy({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n        })\n        .catch(err => {\n          alert(err.message);\n          throw err;\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, page]);\n\n  if (status === 'idle') {\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmitHandler={onSubmit} />\n        Please type what you want to find...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <SearchBar onSubmitHandler={onSubmit} />\n      {status === 'pending' && (\n        <Loader className=\"loader\" color=\"tomato\" height={100} width={100} />\n      )}\n      {(status === 'pending' || status === 'resolved') && (\n        <>\n          <ImageGallery gallery={gallery} />\n        </>\n      )}\n      {isPagination && <Button onClick={pagination} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}